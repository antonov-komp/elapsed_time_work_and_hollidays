# TASK-001-04: Создание конфигурационного файла праздников

**Дата создания:** 2025-12-12 11:08 (UTC+3, Брест)  
**Статус:** Новая  
**Приоритет:** Высокий  
**Исполнитель:** Bitrix24 Программист (Vue.js)  
**Родительская задача:** [TASK-001](TASK-001-preparation-infrastructure.md)  
**Подэтап:** 1.4 из 5  
**Длительность:** 1 день

---

## Описание

Создание конфигурационного файла `config/holidays-rb.json` со списком белорусских праздников на 2025-2035 годы. Файл будет использоваться для определения праздничных дней в календаре табеля присутствия.

**Связь с ТЗ:** [DOCS/TZ/interface-timesheet-calendar.md](../TZ/interface-timesheet-calendar.md) - раздел 5.3.1  
**Связь с этапами:** [DOCS/TZ/implementation-stages.md](../TZ/implementation-stages.md) - Этап 1, Подэтап 1.4

---

## Контекст

Это четвёртый подэтап подготовки инфраструктуры. Файл с праздниками необходим для правильного отображения праздничных дней в календаре и исключения их из автоматического заполнения недели.

**Официальные праздничные дни Республики Беларусь:**
- 1 января — Новый год
- 7 января — Рождество Христово (православное)
- 8 марта — День женщин
- 1 мая — Праздник труда
- 9 мая — День Победы
- 3 июля — День Независимости Республики Беларусь
- 7 ноября — День Октябрьской революции
- 25 декабря — Рождество Христово (католическое)

---

## Модули и компоненты

### Конфигурационные файлы
- `config/holidays-rb.json` — файл с праздниками (в корне проекта)

### Папки
- `config/` — папка для конфигурационных файлов

---

## Зависимости

- **От каких задач зависит:** Нет (можно выполнять параллельно с другими подэтапами)
- **Какие задачи зависят от этой:**
  - TASK-003: Сервисы и утилиты (JavaScript) — будет использовать этот файл
  - TASK-002: Backend API — endpoint для получения праздников

---

## Ступенчатые подзадачи

### Шаг 1: Создание папки config
1. Перейти в корень проекта:
   ```bash
   cd /var/www/back1
   ```
2. Создать папку `config/`:
   ```bash
   mkdir -p config
   ```
3. Проверить создание:
   ```bash
   ls -ld config/
   ```

### Шаг 2: Создание файла holidays-rb.json
1. Создать файл `config/holidays-rb.json`:
   ```bash
   touch config/holidays-rb.json
   ```
2. Проверить создание:
   ```bash
   ls -l config/holidays-rb.json
   ```

### Шаг 3: Заполнение праздников для каждого года
1. Открыть файл `config/holidays-rb.json`
2. Создать структуру JSON с годами 2025-2035
3. Для каждого года добавить массив дат праздников в формате "YYYY-MM-DD"

### Шаг 4: Проверка валидности JSON
1. Проверить валидность JSON:
   ```bash
   python3 -m json.tool config/holidays-rb.json > /dev/null && echo "Valid JSON" || echo "Invalid JSON"
   ```
2. Или использовать онлайн-валидатор JSON
3. Исправить ошибки, если есть

### Шаг 5: Проверка полноты данных
1. Проверить наличие всех годов (2025-2035):
   ```bash
   grep -o '"20[0-9][0-9]":' config/holidays-rb.json | sort -u
   ```
2. Проверить количество праздников в каждом году (должно быть 8)
3. Проверить, что все даты в правильном формате

---

## Технические требования

### Формат JSON
- Структура: объект с ключами-годами (строки)
- Значения: массивы строк с датами в формате "YYYY-MM-DD"
- Кодировка: UTF-8
- Форматирование: с отступами для читаемости

### Праздники
- Всего 8 праздников в году
- Формат дат: "YYYY-MM-DD" (ISO 8601)
- Даты фиксированные (не зависят от дня недели)

### Годы
- Диапазон: 2025-2035 (11 лет)
- Каждый год должен содержать все 8 праздников

---

## Критерии приёмки

- [ ] Создана папка `config/` в корне проекта
- [ ] Создан файл `config/holidays-rb.json`
- [ ] Файл содержит праздники для всех годов (2025-2035)
- [ ] Каждый год содержит все 8 праздников:
  - [ ] 1 января — Новый год
  - [ ] 7 января — Рождество Христово (православное)
  - [ ] 8 марта — День женщин
  - [ ] 1 мая — Праздник труда
  - [ ] 9 мая — День Победы
  - [ ] 3 июля — День Независимости Республики Беларусь
  - [ ] 7 ноября — День Октябрьской революции
  - [ ] 25 декабря — Рождество Христово (католическое)
- [ ] Все даты в формате "YYYY-MM-DD"
- [ ] JSON файл валиден (проверка через валидатор)
- [ ] Файл читается без ошибок

---

## Примеры кода

### config/holidays-rb.json (полный пример)
```json
{
  "2025": [
    "2025-01-01",
    "2025-01-07",
    "2025-03-08",
    "2025-05-01",
    "2025-05-09",
    "2025-07-03",
    "2025-11-07",
    "2025-12-25"
  ],
  "2026": [
    "2026-01-01",
    "2026-01-07",
    "2026-03-08",
    "2026-05-01",
    "2026-05-09",
    "2026-07-03",
    "2026-11-07",
    "2026-12-25"
  ],
  "2027": [
    "2027-01-01",
    "2027-01-07",
    "2027-03-08",
    "2027-05-01",
    "2027-05-09",
    "2027-07-03",
    "2027-11-07",
    "2027-12-25"
  ],
  "2028": [
    "2028-01-01",
    "2028-01-07",
    "2028-03-08",
    "2028-05-01",
    "2028-05-09",
    "2028-07-03",
    "2028-11-07",
    "2028-12-25"
  ],
  "2029": [
    "2029-01-01",
    "2029-01-07",
    "2029-03-08",
    "2029-05-01",
    "2029-05-09",
    "2029-07-03",
    "2029-11-07",
    "2029-12-25"
  ],
  "2030": [
    "2030-01-01",
    "2030-01-07",
    "2030-03-08",
    "2030-05-01",
    "2030-05-09",
    "2030-07-03",
    "2030-11-07",
    "2030-12-25"
  ],
  "2031": [
    "2031-01-01",
    "2031-01-07",
    "2031-03-08",
    "2031-05-01",
    "2031-05-09",
    "2031-07-03",
    "2031-11-07",
    "2031-12-25"
  ],
  "2032": [
    "2032-01-01",
    "2032-01-07",
    "2032-03-08",
    "2032-05-01",
    "2032-05-09",
    "2032-07-03",
    "2032-11-07",
    "2032-12-25"
  ],
  "2033": [
    "2033-01-01",
    "2033-01-07",
    "2033-03-08",
    "2033-05-01",
    "2033-05-09",
    "2033-07-03",
    "2033-11-07",
    "2033-12-25"
  ],
  "2034": [
    "2034-01-01",
    "2034-01-07",
    "2034-03-08",
    "2034-05-01",
    "2034-05-09",
    "2034-07-03",
    "2034-11-07",
    "2034-12-25"
  ],
  "2035": [
    "2035-01-01",
    "2035-01-07",
    "2035-03-08",
    "2035-05-01",
    "2035-05-09",
    "2035-07-03",
    "2035-11-07",
    "2035-12-25"
  ]
}
```

### Скрипт для генерации праздников (опционально)
```javascript
// generate-holidays.js
const holidays = {};

for (let year = 2025; year <= 2035; year++) {
  holidays[year] = [
    `${year}-01-01`,  // Новый год
    `${year}-01-07`,  // Рождество Христово (православное)
    `${year}-03-08`,  // День женщин
    `${year}-05-01`,  // Праздник труда
    `${year}-05-09`,  // День Победы
    `${year}-07-03`,  // День Независимости Республики Беларусь
    `${year}-11-07`,  // День Октябрьской революции
    `${year}-12-25`   // Рождество Христово (католическое)
  ];
}

console.log(JSON.stringify(holidays, null, 2));
```

---

## Тестирование

### Проверка валидности JSON
```bash
# Проверка через Python
python3 -m json.tool config/holidays-rb.json > /dev/null && echo "Valid JSON" || echo "Invalid JSON"

# Проверка через Node.js
node -e "JSON.parse(require('fs').readFileSync('config/holidays-rb.json', 'utf8')); console.log('Valid JSON');"
```

### Проверка количества годов
```bash
# Подсчёт годов
grep -o '"20[0-9][0-9]":' config/holidays-rb.json | wc -l
# Должно быть: 11 (2025-2035)
```

### Проверка количества праздников в году
```bash
# Проверка для 2025 года
grep -A 10 '"2025":' config/holidays-rb.json | grep -c '"-'
# Должно быть: 8
```

### Проверка формата дат
```bash
# Проверка формата дат (YYYY-MM-DD)
grep -oE '[0-9]{4}-[0-9]{2}-[0-9]{2}' config/holidays-rb.json | head -5
```

---

## История правок

- **2025-12-12 11:08 (UTC+3, Брест):** Создана задача TASK-001-04

---

## Примечания

### Важные замечания
- Праздники фиксированные и не зависят от дня недели
- Переносы рабочих дней не учитываются в этом файле (они могут быть добавлены позже)
- Файл должен быть в формате UTF-8
- Рекомендуется использовать отступы для читаемости

### Переносы рабочих дней
В Беларуси могут быть переносы рабочих дней (если праздник выпадает на выходной). На данном этапе они не учитываются, но могут быть добавлены в будущем как отдельный массив в JSON.

### Обновление файла
Если появятся новые праздники или изменятся даты, файл можно обновить вручную или через скрипт.

### Следующие шаги
После завершения этого подэтапа можно переходить к:
- TASK-002: Backend API — создание endpoint для получения праздников
- TASK-003: Сервисы и утилиты — создание сервиса для работы с праздниками

---

## Связь с документацией

- **Родительская задача:** [TASK-001](TASK-001-preparation-infrastructure.md)
- **Техническое задание:** [DOCS/TZ/interface-timesheet-calendar.md](../TZ/interface-timesheet-calendar.md) - раздел 5.3.1
- **Этапы реализации:** [DOCS/TZ/implementation-stages.md](../TZ/implementation-stages.md)

